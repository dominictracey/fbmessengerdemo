!function(a,e){"use strict";var n,t;function o(e,t){var i=this;t=t||{},this.elements=e||".js-responsive-image",this.className=t.className||"js-responsive-image-replaced",this.onResize=!t.hasOwnProperty("onResize")||t.onResize,this.onImagesReplaced=t.onImagesReplaced||function(){},this.eles=$(e),n(function(){i.init()})}n=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||function(e){a.setTimeout(e,1e3/60)},t=e.addEventListener?function(e,t,i){return e.addEventListener(t,i,!1)}:function(e,t,i){return e.attachEvent("on"+t,i)},o.prototype.init=function(){this.checkImagesNeedReplacing(this.eles),this.onResize&&this.registerResizeEvent()},o.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,e.each(function(){t.replaceImagesBasedOnScreenDimensions(this)}),this.isResizing=!1,this.onImagesReplaced(e))},o.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t,i,n=[];if(null!=$(e).attr("data-media")){var s=$(e).attr("data-media");$(e).removeAttr("data-media"),s=$.parseJSON(s),$.each(s,function(e,t){n.push(parseInt(e))}),$(e).data("width",n),$(e).data("media",s)}t=$(e).data("media"),i=o.getClosestValue(a.innerWidth,$.extend([],$(e).data("width"))),e.src!=t[i]&&(e.src=t[i])},o.getClosestValue=function e(t,i){return t>=i[0]&&1<i.length&&(i.shift(),e(t,i)),i[0]},o.prototype.registerResizeEvent=function(){var e=this;t(a,"resize",function(){e.checkImagesNeedReplacing(e.eles)})},"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=o:"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof a&&(a.Imager=o)}(window,document);
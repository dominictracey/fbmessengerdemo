ACC.checkoutsteps={_autoload:["checkoutOptin","submitVetPreference","radioChangeState","handelClicksInPaymentStep","validateChangeState"],checkoutOptin:function(){$(document).on("click","#checkout-optin",function(e){$.ajax({url:ACC.config.contextPath+"/checkout/multi/delivery-address/optin",type:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},dataType:"json",data:JSON.stringify({checked:$(this).is(":checked")}),cache:!1,success:function(e){}})})},submitVetPreference:function(){$(document).on("click","input[name = 'orderType']",function(e){$("input#orderPreference").val($(this).val())})},handelClicksInPaymentStep:function(){$(".payment-method").hasClass("hide")&&$(".cs_btn-next-payment").removeClass("hide"),$(".cs_btn-add-new-card").click(function(){"undefined"==typeof gtmGlobalEvent||gtmGlobalEvent("checkout","payment","add new card","gtm_event"),$("#silentOrderPostForm").hasClass("hide")&&($("#silentOrderPostForm").removeClass("hide"),$(".payment-method").addClass("hide")),$(".payment-method").hasClass("hide")&&$(".cs_btn-next-payment").removeClass("hide"),$("select[id='ExpiryMonth']").selectpicker("destroy").selectpicker({liveSearch:!0}),$("select[id='ExpiryYear']").selectpicker("destroy").selectpicker({liveSearch:!0}),$(".checkout-paymentmethod #address\\.region").selectpicker("destroy").selectpicker({liveSearch:!0})}),$("#silentOrderPostForm .back").click(function(){ACC.checkoutsteps.resetPaymentForm(),$("#useDeliveryAddress").click(),$(".checkout-paymentmethod #address\\.country").selectpicker("refresh"),$(".checkout-paymentmethod #address\\.region").selectpicker("refresh"),$("#silentOrderPostForm").addClass("hide"),$(".payment-method").removeClass("hide"),$(".cs_btn-next-payment").addClass("hide")}),$("#useDeliveryAddress").is(":checked")&&$(".billingAddressForm").hide(),$("#useDeliveryAddress").click(function(){$("#useDeliveryAddress").is(":checked")?($("#silentOrderPostForm").data("bootstrapValidator").resetForm(),$(".billingAddressForm").hide()):$("#useDeliveryAddress").is(":checked")||($(".checkout-paymentmethod #billingAddressForm select[data-id='address.region']").selectpicker("refresh"),$(".billingAddressForm").show())})},radioChangeState:function(){$(".checkout-shipping .radio , .payment-method .radio").click(function(){$(this).hasClass("active")||($(this).addClass("active"),$(this).siblings().removeClass("active"))})},validateChangeState:function(){$(".checkout-paymentmethod #ExpiryYear").change(function(){$("#silentOrderPostForm").data("bootstrapValidator").resetField($(".checkout-paymentmethod #ExpiryMonth"))}),$(".checkout-paymentmethod #card_cardType").change(function(){$("#ExpiryMonth").val("default"),$("#ExpiryYear").val("default"),$("#card_cvNumber").val(""),$("#card_accountNumber").val(""),$("#card_name").val(""),$("#silentOrderPostForm").data("bootstrapValidator").resetField($(".checkout-paymentmethod #ExpiryMonth")),$("#silentOrderPostForm").data("bootstrapValidator").resetField($(".checkout-paymentmethod #ExpiryYear")),$("#silentOrderPostForm").data("bootstrapValidator").resetField($(".checkout-paymentmethod #card_accountNumber")),$("#silentOrderPostForm").data("bootstrapValidator").resetField($(".checkout-paymentmethod #card_cvNumber")),$("#silentOrderPostForm").data("bootstrapValidator").resetField($(".checkout-paymentmethod #card_name")),$(".checkout-paymentmethod #ExpiryMonth").selectpicker("refresh"),$(".checkout-paymentmethod #ExpiryYear").selectpicker("refresh")})},resetPaymentForm:function(){void 0!==$("#silentOrderPostForm").data("bootstrapValidator")&&($("#silentOrderPostForm").data("bootstrapValidator").resetForm(),$("#silentOrderPostForm")[0].reset()),$(".checkout-paymentmethod #ExpiryMonth").selectpicker("refresh"),$(".checkout-paymentmethod #ExpiryYear").selectpicker("refresh"),$(".checkout-paymentmethod #card_cardType").selectpicker("refresh")}};
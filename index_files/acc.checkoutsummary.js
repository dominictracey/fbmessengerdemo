ACC.checkoutsummary={_autoload:["bindAllButtons","bindScheduleReplenishment","replenishmentInit"],bindAllButtons:function(){ACC.checkoutsummary.toggleActionButtons(".place-order-form")},toggleActionButtons:function(e){var n=$(e),t=n.find(".checkoutSummaryButton"),r=n.find("input[name=termsCheck]");r.is(":checked")&&t.prop("disabled",!1),r.on("click",function(){$(this).prop("checked")?t.prop("disabled",!1):t.prop("disabled",!0)})},validateDate:function(e,n){var t=!0;try{$.datepicker.parseDate(n,e)}catch(e){t=!1}return t},toggleReplenishmentScheduleDateError:function(e){if(e){var n=$("#replenishmentSchedule .datepicker");n.hasClass("has-error")||n.addClass("has-error"),$("#errorReplenishmentStartDate").show()}else $("#replenishmentSchedule .datepicker").removeClass("has-error"),$("#errorReplenishmentStartDate").hide()},bindScheduleReplenishment:function(e){var r=$("#placeOrderForm1"),c=!1;$(document).on("click",".scheduleReplenishmentButton",function(e){e.preventDefault();var n=$(this).closest("form").find("input[name=termsCheck]").is(":checked");r.find("input[name=termsCheck]").prop("checked",n);var t=$(".scheduleReplenishmentButton").first().text().trim();ACC.colorbox.open(t,{href:"#replenishmentSchedule",inline:!0,width:"620px",onComplete:function(){ACC.checkoutsummary.toggleReplenishmentScheduleDateError(!1),$(this).colorbox.resize(),c=!1},onClosed:function(){c&&r.submit(),$(".replenishmentOrderClass").val(!1)}}),$("input:radio[name=replenishmentRecurrence]").click(function(){switch(""!=$("#replenishmentStartDate").val()&&$("#replenishmentSchedule .js-replenishment-actions").show(),this.value){case"DAILY":$(".scheduleformD").show(),$(".scheduleformW").hide(),$(".scheduleformM").hide();break;case"WEEKLY":$(".scheduleformD").hide(),$(".scheduleformW").show(),$(".scheduleformM").hide();break;default:$(".scheduleformD").hide(),$(".scheduleformW").hide(),$(".scheduleformM").show()}$.colorbox.resize()})}),$(document).on("click","#replenishmentSchedule #cancelReplenishmentOrder",function(e){e.preventDefault(),$(".replenishmentOrderClass").val(!1),$.colorbox.close()}),$(document).on("click","#replenishmentSchedule #placeReplenishmentOrder",function(e){e.preventDefault();var n=$("#replenishmentSchedule").data("dateForDatePicker"),t=$("#replenishmentStartDate").val();ACC.checkoutsummary.validateDate(t,n)?($(".replenishmentOrderClass").val(!0),c=!0,$.colorbox.close()):(ACC.checkoutsummary.toggleReplenishmentScheduleDateError(!0),$.colorbox.resize())}),$(document).on("change","#replenishmentStartDate",function(e){ACC.checkoutsummary.toggleReplenishmentScheduleDateError(!1),$.colorbox.resize()}),$(document).on("click","#replenishmentSchedule .js-open-datepicker",function(){$("#replenishmentSchedule .hasDatepicker").datepicker("show")})},replenishmentInit:function(){var e=$("#replenishmentSchedule").data("placeOrderFormReplenishmentOrder"),n=$("#replenishmentSchedule").data("placeOrderFormReplenishmentRecurrence"),t=$("#replenishmentSchedule").data("dateForDatePicker"),r=$("#replenishmentSchedule").data("placeOrderFormNDays"),c=$("#replenishmentSchedule").data("placeOrderFormNthDayOfMonth");if(void 0!==e){if(e)switch(n){case"DAILY":$(".scheduleformD").show();break;case"WEEKLY":$(".scheduleformW").show();break;default:$(".scheduleformM").show()}else $("#replenishmentSchedule .js-replenishment-actions").hide(),$("input:radio[name='replenishmentRecurrence'][value=DAILY]").prop("checked",!1),$(".scheduleformD").hide(),$("#nDays option[value="+r+"]").attr("selected","selected"),$("input:radio[name='replenishmentRecurrence'][value=WEEKLY]").prop("checked",!1),$(".scheduleformW").hide(),$("input:radio[name='replenishmentRecurrence'][value=MONTHLY]").prop("checked",!1),$(".scheduleformM").hide(),""!=c&&$("#nthDayOfMonth option[value="+c+"]").attr("selected","selected"),$("#replenishmentStartDate").val("");$(".js-replenishment-datepicker").datepicker({dateFormat:t,onClose:function(){""==$(this).val()?$("#replenishmentSchedule .js-replenishment-actions").hide():$("input:radio[name=replenishmentRecurrence]").is(":checked")&&($("#replenishmentSchedule .js-replenishment-actions").show(),$.colorbox.resize())}})}}};
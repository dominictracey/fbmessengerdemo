ACC.prescription={_autoload:["loadNotificationSideNav","showHideInfo","bindToggleReminder","bindRemoveOrderHandler"],loadNotificationSideNav:function(){var e=$(".accountNav .side-nav-list").find("a"),o=$($(".accountNav").find(".vet-notifications")).text();if(0<o)for(var i=0;i<e.length;i++)"Vet Recommendations"==$(e[i]).text()&&$(e[i]).append("<span class='notifications-side-nav'>"+o+"</span>")},bindRemoveOrderHandler:function(){$(".remove-order .remove-desk").each(function(){var e=$(this).attr("data-id"),o=$(this).closest(".vet-product-options");$(this).popover({container:o,html:!0,template:'<div class="popover hidden-xs"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',content:$("#div_removal_reason_desktop_"+e),placement:"bottom",title:'why are you removing this product? <span class="icon-remove"></span>'})}),$(".remove-order .remove-mobile").popover({container:"body",html:!0,placement:"bottom",title:"",template:'<div class="popover visible-xs"><div class="popover-content"></div></div>'}),$(document).on("click",".popover-title .icon-remove",function(){$(this).parents(".popover").popover("hide")}),$(".remove-order").click(function(){var e=$(this).attr("data-id");$(".popover-content #div_removal_reason_desktop_"+e).removeClass("hide")}),$(".js-select-remove-reason").on("change",function(){var e=$(this).attr("data-id"),o=$(this).val();$(window).width()<882&&ACC.prescription.submitRemovalForm(e,o)}),$(document).on("click",".popover .div_removal_reason_mobile .dropdown-menu.inner li",function(){var e=$(".popover .div_removal_reason_mobile select.js-select-remove-reason").attr("data-id"),o=$(".popover .div_removal_reason_mobile select.js-select-remove-reason").val();$(window).width()<882&&ACC.prescription.submitRemovalForm(e,o),$(".vet-product-container .remove-mobile").popover("hide")}),$(".save-btn").click(function(){var e=$(this).attr("data-id"),o=$("#div_removal_reason_desktop_"+e+" .selectpicker.js-select-remove-reason ").val();$(this).attr("disabled","disabled"),ACC.prescription.submitRemovalForm(e,o)}),$(".remove-order .remove-mobile").click(function(e){$(".vet-product-container .remove-mobile").popover("show"),$("body").addClass("scrollbars-off"),$(".popover select").selectpicker("refresh"),$(".popover .select-menu .dropdown-menu.open").prepend("<div class='dropdown-menu-header'><div class='remove-title'>why are you removing this product?<span class='icon-remove'></span></div></div>"),$(".popover select").selectpicker("toggle")}),$(document).on("click",".popover .dropdown-menu-header, .popover .dropdown-menu.inner",function(e){e.preventDefault(),e.stopPropagation()}),$(document).on("click",".div_removal_reason .select-menu .icon-remove",function(){$("body").removeClass("scrollbars-off"),$(".vet-product-container .remove-mobile").popover("hide")}),$(window).resize(function(){882<=$(window).width()&&$(".vet-product-container .remove-mobile").popover("hide")})},submitRemovalForm:function(e,o){var i="/my-account/removePrescription/"+e+"?reasonCode="+o;""!=o&&(window.location.href=i,$("#prescriptionRemovalReason_err_"+e).hide())},showHideInfo:function(){$(".more-less-info-container .more_info_link").click(function(){$(this).hide(),$(this).siblings(".less_info_link").show(),$(this).siblings(".div_show_more_info").show()}),$(".more-less-info-container .less_info_link").click(function(){$(this).hide(),$(this).siblings(".more_info_link").show(),$(this).siblings(".div_show_more_info").hide()})},bindToggleReminder:function(){$(".js-reminder").on("change",function(){var o=$(this).attr("data-isEnabled"),e=$(this).attr("data-guid"),i=$(this).attr("data-petGuid"),t=$(this).attr("data-productCode");o="true"!==o,$.ajax({url:ACC.config.contextPath+"/my-account/setReminderMaybeWithoutGuid?prescriptionGUID="+e+"&petGuid="+i+"&status="+o+"&productCode="+t,type:"POST",context:this,success:function(e){e&&("true"===o?$(this).attr("data-isEnabled","false"):$(this).attr("data-isEnabled","true"))},error:function(){alert("There was an error trying to changing the value of your reminder.")}})})}};
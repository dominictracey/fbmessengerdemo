ACC.refinements={_autoload:[["bindMoreLessToggles",0!=$(".js-facet-form").length],["bindMoreStoresToggles",0!=$(".js-facet-form").length],["init",0!=$(".js-facet-form").length],["bindSearch",0!=$(".js-facet-form").length]],coords:{},storeSearchData:{},init:function(){},bindSearch:function(){$(document).on("submit","#user_location_form",function(e){e.preventDefault();var t=$(".js-shop-stores-facet .js-shop-store-search-input").val();0<t.length&&ACC.refinements.getInitStoreData(t)}),$(document).on("click","#findStoresNearMeAjax",function(e){e.preventDefault(),ACC.refinements.getInitStoreData(null,ACC.refinements.coords.latitude,ACC.refinements.coords.longitude)})},getInitStoreData:function(e,t,s){$(".alert").remove(),data={q:"",page:"0"},null!=e&&(data.q=e),null!=t&&(data.latitude=t),null!=s&&(data.longitude=s),ACC.refinements.storeSearchData=data,ACC.refinements.getStoreData()},getStoreData:function(){url=$(".js-facet-form").data("url"),$.ajax({url:url,data:ACC.refinements.storeSearchData,type:"get",success:function(e){window.location.reload()}})},bindMoreLessToggles:function(){$(document).on("click",".js-shop-stores-facet .js-facet-change-link",function(e){e.preventDefault(),$(".js-shop-stores-facet .js-facet-container").hide(),$(".js-shop-stores-facet .js-facet-form").show()}),$(document).on("change",".js-product-facet .js-facet-checkbox",function(){$(this).parents("form").submit()}),$(document).on("click",".js-product-facet .js-more-facet-values-link",function(e){e.preventDefault(),$(this).parents(".js-facet").find(".js-facet-top-values").hide(),$(this).parents(".js-facet").find(".js-facet-list-hidden").show(),$(this).parents(".js-facet").find(".js-more-facet-values").hide(),$(this).parents(".js-facet").find(".js-less-facet-values").show()}),$(document).on("click",".js-product-facet .js-less-facet-values-link",function(e){e.preventDefault(),$(this).parents(".js-facet").find(".js-facet-top-values").show(),$(this).parents(".js-facet").find(".js-facet-list-hidden").hide(),$(this).parents(".js-facet").find(".js-more-facet-values").show(),$(this).parents(".js-facet").find(".js-less-facet-values").hide()})},bindMoreStoresToggles:function(){$(document).on("click",".js-shop-stores-facet .js-more-stores-facet-values",function(e){e.preventDefault(),$(".js-shop-stores-facet ul.js-facet-list li.hidden").slice(0,5).removeClass("hidden").first().find(".js-facet-checkbox").focus(),0==$(".js-shop-stores-facet ul.js-facet-list li.hidden").length&&$(".js-shop-stores-facet .js-more-stores-facet-values").hide()})}};
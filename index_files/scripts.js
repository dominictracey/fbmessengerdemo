var putPatintTitle=function(){$(".save-patint").show(),$(".save-normal-pet").hide(),$(".patint-title").show(),$(".pet-title").hide()},putPetTitle=function(){$(".save-patint").hide(),$(".save-normal-pet").show(),$(".patint-title").hide(),$(".pet-title").show()},showPriceCalc=function(e){$("#btn-setCP_"+e).toggleClass("collapsed").toggleClass("expanded"),$("#updateCSRPrice_"+e).slideToggle(300)},hidePriceCalc=function(e){$("#btn-setCP_"+e).removeClass("expanded").addClass("collapsed"),$("#updateCSRPrice_"+e).slideUp(300),$("#markupAmount_"+e).val($("#originalMarkupAmount_"+e).val()),$("#retailPrice_"+e).val($("#originalRetailPrice_"+e).val()),$("#serviceFee_"+e).val($("#originalServiceFee_"+e).val()),$("#totalCost_"+e).val($("#originalTotalCost_"+e).val()),$("#rxFee_"+e).val($("#originalRxFee_"+e).val()),$("#profit_"+e).val($("#originalProfit_"+e).val()),$("#profitPercentage_"+e).val($("#originalProfitPercentage_"+e).val())},performCalc=function(e){if($("#retailPrice_"+e).val()!=$("#currentRetailPrice_"+e).val()||$("#markupAmount_"+e).val()!=$("#currentMarkupAmount_"+e).val()||$("#rxFee_"+e).val()!=$("#currentRxFee_"+e).val()){var t=parseFloat($("#retailPrice_"+e).val()),a=parseFloat($("#markupAmount_"+e).val()),i=(parseFloat($("#rxFee_"+e).val()),parseFloat($("#currentRetailPrice_"+e).val())),r=parseFloat($("#currentMarkupAmount_"+e).val()),o=(parseFloat($("#currentRxFee_"+e).val()),parseFloat($("#baseCost_"+e).val())||0);if(a!=r){var s=(a+o).toFixed(2);$("#retailPrice_"+e).val(s),$("#currentRetailPrice_"+e).val(s),$("#currentMarkupAmount_"+e).val(a),$("#basePriceUpdate_"+e).val("TRUE")}else if(t!=i){var n=(t-o).toFixed(2);$("#markupAmount_"+e).val(n),$("#currentMarkupAmount_"+e).val(n),$("#currentRetailPrice_"+e).val(t)}var l=parseFloat($("#currentRetailPrice_"+e).val()),d=(parseFloat($("#markupAmount_"+e).val()),l);d<o&&(d=o);var p=(d*parseFloat($("#serviceFeeRate_"+e).val())).toFixed(2);$("#serviceFee_"+e).val(p);var c=(o+parseFloat(p)).toFixed(2);$("#totalCost_"+e).val(c);var m=parseFloat($("#rxFee_"+e).val())||0;$("#currentRxFee_"+e).val(m);var u=(l+m).toFixed(2),h=(parseFloat(u)-parseFloat(c)).toFixed(2);if($("#profit_"+e).val(h),0===parseFloat(h))$("#profitPercentage_"+e).val("0.0");else{var g=(parseFloat(h)/parseFloat(u)*100).toFixed(2);$("#profitPercentage_"+e).val(g)}}};$(document).ready(function(){$(".js-banner-hide-until-link").each(function(){var e=$(this).children("a.content-banner-wrap").attr("href");$.ajax({url:e,type:"HEAD",context:this}).done(function(){$(this).addClass("js-banner-unhide")})}),$(".phone_us").mask("(000) 000-0000"),$("div.item-label span").length&&$("div.item-label span").each(function(){0<=$(this).text().indexOf("autoship")&&$(this).text($(this).text().replace("autoship","AutoShip"))});var e=function(t,e){$(t).length&&$(t).affix({offset:{top:function(){return this.top=$(e).offset().top},bottom:function(){$(window).scrollTop();if(".page-multiStepCheckoutSummaryPage .order-review-order-summary"===t)var e=$("footer").height()+100;else if(".page-multiStepCheckoutSummaryPage .pnl-promo-totals"===t)e=$("footer").height()+100;else e=$("footer").height()+15;return this.bottom=e}}})};if($(".btn-print").click(function(){window.print()}),$("footer .title-collapse").click(function(){$(this).find("i").toggleClass("icon-plus").toggleClass("icon-minus")}),$(".cart-voucher-panel .panel-title .collapsed").click(function(){$(this).find("i").toggleClass("icon-plus").toggleClass("icon-minus"),$(".cart-voucher__help-block").length&&($(".js-voucher-respond").removeClass("has-error"),$("#js-voucher-code-text").val(""))}),e(".page-multiStepCheckoutSummaryPage .pnl-promo-totals",".pnl-promo-totals"),e(".promo-totals-cartpage",".promo-totals-cartpage"),e(".page-multiStepCheckoutSummaryPage .order-review-order-summary",".order-review-order-summary"),($(".page-searchGrid").length||$(".template-pages-category-productGridPage").length)&&($('#product-facet .js-facet:not(".applied-filters") .js-facet-name').click(function(){$(this).find(".icon").toggleClass("icon-plus").toggleClass("icon-minus")}),$("#product-facet .js-facet-list-hidden").hide(),880<$(window).width()&&$('#product-facet .js-facet:not(".applied-filters")').first().find(".js-facet-name").click(),$(".btn-sort").click(function(e){e.stopPropagation(),0===$(".dropdown-menu-header").length&&($(".pagination-bar.top .sort-menu .dropdown-menu.open").parent().parent().prepend("<div class='overlay'></div>"),$(".pagination-bar.top .sort-menu .dropdown-menu.open").prepend("<div class='dropdown-menu-header'><h4>Sort Results By</h4><span class='icon-remove' ></span></div>")),$("html,body").addClass("scrollbars-off"),$(".pagination-bar.top .sort-menu .overlay").show(),$(".pagination-bar.top .sort-menu .dropdown-menu.open .dropdown-menu-header").show(),$(".pagination-bar.top").find(".sort-menu [data-toggle=dropdown]").dropdown("toggle")}),$(".sort-menu .selectpicker").on("hidden.bs.select",function(e){$(".pagination-bar.top .sort-menu .overlay").hide(),$(".pagination-bar.top .sort-menu .dropdown-menu.open .dropdown-menu-header").hide(),$("html,body").removeClass("scrollbars-off")}),$(".btn-filter").click(function(e){e.stopPropagation(),$(".js-show-facets").click()}),enquire.register("screen and (max-width:991px)",{match:function(){$("#selected-filters").append($("#selected-filters-items .js-facet").detach()),$(".pagination-bar.bottom").prepend($(".pagination-bar.bottom .items-per-page").detach()),$(".autoship-options-mobile").append($(".autoship-options-large .autoship-options").detach())},unmatch:function(){$("#selected-filters-items ").append($("#selected-filters .js-facet").detach()),$(".pagination-bar.bottom").append($(".pagination-bar.bottom .items-per-page").detach()),$(".autoship-options-large").append($(".autoship-options-mobile .autoship-options").detach())}})),$(".page-searchGrid").length){var t=$(".pagination-bar-results").clone(),a=$(".pagination-bar-results").detach();$("#res-num").append(a),$("#res-num-mob").append(t),$(".pagination-bar-results").css({visibility:"visible"}),$(".searchSpellingSuggestionPrompt").length&&$(".pagination-bar.top .sort-wrap").addClass("suggestions-and-sort")}if($(".js_pdp_autoship").on("click",function(){"true"==$(this).attr("id").split("_")[1]?($("#withAutoship").prop("checked",!0),$("#OnetimeOnly").prop("checked",!1),$(".oneTimeOnlyDiv .price").hide(),$(".oneTimeOnlyDiv .was-price").hide(),$(".oneTimeOnlyDiv .bundle .promotion").hide(),$(".autoshipDiv .price").show(),$(".autoshipDiv .was-price").show(),$(".autoshipDiv .bundle .promotion").show(),0<$(".price-panel.autoship-recommended").length&&$(".price-panel.autoship-recommended").removeClass("suppress-autoship-reccomendation-styles")):($("#withAutoship").prop("checked",!1),$("#OnetimeOnly").prop("checked",!0),$(".oneTimeOnlyDiv .price").show(),$(".oneTimeOnlyDiv .was-price").show(),$(".oneTimeOnlyDiv .bundle .promotion").show(),$(".autoshipDiv .price").hide(),$(".autoshipDiv .was-price").hide(),$(".autoshipDiv .bundle .promotion").hide(),0<$(".price-panel.autoship-recommended").length&&$(".price-panel.autoship-recommended").addClass("suppress-autoship-reccomendation-styles"))}),$(".page-productDetails").length&&($(".page-productDetails .tabhead.active .icon").removeClass("icon-plus").addClass("icon-minus"),$(".page-productDetails .tabhead").click(function(){$(".page-productDetails .tabhead").removeClass("open"),$(this).find(".icon").toggleClass("icon-plus").toggleClass("icon-minus").parent().addClass("open"),$(".page-productDetails .tabhead").not(".open").find(".icon").removeClass("icon-minus").addClass("icon-plus")})),enquire.register("screen and (max-width:880px)",{match:function(){$(".page-cartPage").length&&$(".page-cartPage .item__list--item").each(function(){$(this).find(".autoship-options-mobile").append($(this).find(".autoship-options-large  .autoship-options").detach()),$(this).find(".cart-item-actions-mobile").append($(this).find(".btn-edit-pnl .btn-edit").detach()),$(this).find(".cart-item-actions-mobile").append($(this).find(".btn-remove-pnl-large .btn-remove-pnl").detach())}),$(".page-orderConfirmationPage").length&&$(".page-orderConfirmationPage .item__list--item").each(function(){$(this).find(".pet-name-mobile").html($(this).find(".pet-name.large").html())}),$(".page-multiStepCheckoutSummaryPage .pnl-promo-totals").length&&($(window).off(".affix"),$(".page-multiStepCheckoutSummaryPage .pnl-promo-totals").removeData("bs.affix").removeClass("affix affix-top affix-bottom")),$(".promo-totals-cartpage").length&&($(window).off(".affix"),$(".promo-totals-cartpage").removeData("bs.affix").removeClass("affix affix-top affix-bottom")),$(".page-multiStepCheckoutSummaryPage .order-review-order-summary").length&&($(window).off(".affix"),$(".page-multiStepCheckoutSummaryPage .order-review-order-summary").removeData("bs.affix").removeClass("affix affix-top affix-bottom"))},unmatch:function(){$(".menu-hamburger-open").length&&$(".js-toggle-sm-navigation").click(),$(".page-cartPage").length&&$(".page-cartPage .item__list--item").each(function(){$(this).find(".autoship-options-large").append($(this).find(".autoship-options-mobile .autoship-options").detach()),$(this).find(".btn-edit-pnl").append($(this).find(".cart-item-actions-mobile .btn-edit").detach()),$(this).find(".btn-remove-pnl-large").append($(this).find(".cart-item-actions-mobile .btn-remove-pnl").detach())}),$(".page-orderConfirmationPage").length&&$(".page-orderConfirmationPage .item__list--item").each(function(){$(this).find(".pet-name.large").html($(this).find(".pet-name-mobile").html())}),$(".page-productDetails").length&&$("#preview-images-modal").modal("hide"),e(".page-multiStepCheckoutSummaryPage .pnl-promo-totals",".pnl-promo-totals"),e(".promo-totals-cartpage",".promo-totals-cartpage"),e(".page-multiStepCheckoutSummaryPage .order-review-order-summary",".order-review-order-summary")}}),$(".modal").on("show.bs.modal",function(e){$("html,body").addClass("scrollbars-off")}),$(".modal").on("hide.bs.modal",function(e){$("html,body").removeClass("scrollbars-off")}),$(".custom-tooltip").tooltip({template:'<div class="tooltip info" role="tooltip"><div class="tooltip-header"><span class="icon-remove visible-xs visible-sm" ></span></div><div class="tooltip-inner"></div></div>',trigger:"hover",placement:function(e,t){return void 0===$(t).data("placement")?"top":$(t).data("placement")},html:!0,container:"body"}),$("body").on("click touchstart",function(e){"popover"!==$(e.target).data("toggle")&&0===$(e.target).parents(".popover.in").length&&$('[class^="delete-yourpet-btn"]').popover("hide"),$(e.target).is(".help-menu-title")||0!==$(e.target).parents(".help-dropdown").length||$(".help-dropdown").slideUp(),$(e.target).is(".account-menu-title")||0!==$(e.target).parents(".account-menu-dropdown").length||$(".account-menu-dropdown").slideUp(),0===$(e.target).parents("li.js-nav-ipad").length&&$(".js-nav-ipad").removeClass("touched"),0===$(e.target).parents(".header-mini-cart").length&&($(".header-mini-cart").removeClass("touched"),$(".js-mini-cart-container").slideUp())}),($(".page-multiStepCheckoutSummaryPage").length||$(".account-section-yourpets").length)&&($(".saved-data-preview").on("click",function(e){$(this).find(".edit")[0].click(),e.stopPropagation()}),$(document).on("click",".yourPetsRemoveButton",function(){var e=$(this).data("petguid");ACC.colorbox.open("Your Pet",{inline:!0,height:!1,href:"#popup_confirm_pet_removal_"+e,onComplete:function(){$(this).colorbox.resize()}})}),$("#pet-brithdate").combodate(),$(".combodate select").addClass("select-menu"),$("#add-pet-form select").selectpicker("refresh"),$("#add-pet-modal .pet-optional-info .custom-checkbox").click(function(){var e=$(this).parent().find("textarea");$(this).find("input[type=checkbox]").prop("checked")?e.slideDown(250):(e.slideUp(250),e.val(""))}),$(".autoship-ferq").selectpicker("refresh"),$(".existing-pets").selectpicker("refresh"),"function"==typeof ACC.ajax.updateInactiveVet&&ACC.ajax.updateInactiveVet(),$(".have-pet").each(function(){var e=$(this).find(".add-new-pet").detach();$(this).find(".existing-pets .dropdown-menu li:first-child").addClass("first-option").empty().append(e)}),$(".autoship-options input[type=radio]").change(function(){$(this).prop("checked")&&$(this).hasClass("autoship-radio")?($(this).parents(".add-pet-warp").find(".autoship-ferq").removeAttr("disabled").removeClass("disabled"),$(this).parents(".add-pet-warp").find(".autoship-ferq .dropdown-toggle").removeClass("disabled")):($(this).parents(".add-pet-warp").find(".autoship-ferq").prop("disabled","").addClass("disabled"),$(this).parents(".add-pet-warp").find(".autoship-ferq .dropdown-toggle").addClass("disabled"),$(this).closest("form").bootstrapValidator("revalidateField","autoShipFreq"))}),$("#pet-Species-menu").change(function(){var e=$(this).val();"horse"==e?putPatintTitle():putPetTitle(),$.ajax({type:"GET",url:ACC.config.contextPath+"/checkout/multi/order-details/breeds?speciesCode="+e,timeout:1e4,success:function(e){if($("#breedBox").html(e),$("#breedBox select").selectpicker("destroy").selectpicker({liveSearch:!0}),$("#add-pet-modal").hasClass("edit-pet-form")&&""!==$("#petBreed_"+editEntryNumber).val()){var t=$("#petBreed_"+editEntryNumber).val();$("#pet-breed-menu").val(t).change()}}})}),$("#add-pet-modal").on("hide.bs.modal",function(e){$("#add-pet-form").trigger("reset"),putPetTitle(),$("#add-pet-form select").selectpicker("refresh"),$("#add-pet-form").bootstrapValidator("resetForm",!0),$("#add-pet-form .pet-optional-info textarea").hide(),$("html,body").removeClass("scrollbars-off"),$("#savePet").removeAttr("disabled")}),$("#pet-orderEntryNumber").length&&$("#pet-orderEntryNumber").val(petEnteryNumber),$("#add-pet-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget);if($("#pet-orderEntryNumber").val(petEnteryNumber),$("html,body").addClass("scrollbars-off"),($(t).hasClass("add-pet-btn")||$(t).hasClass("add-new-pet"))&&($("#add-pet-modal").removeClass("edit-pet-form"),$(".form-group.pet-gender").removeClass("undefined-gender"),$("select.select-menu.year").selectpicker("destroy").selectpicker({liveSearch:!0}),$("select.select-menu.day").selectpicker("destroy").selectpicker({liveSearch:!0}),$("select.select-menu.month").selectpicker("destroy").selectpicker({liveSearch:!0})),$(t).hasClass("edit-pet")&&!$(t).hasClass("no-modal")){5<$("select[data-id='veterinarian-menu']").children("option").length&&$("select[data-id='veterinarian-menu']").selectpicker("destroy").selectpicker({liveSearch:!0}),$("select.select-menu.year").selectpicker("destroy").selectpicker({liveSearch:!0}),$("select.select-menu.day").selectpicker("destroy").selectpicker({liveSearch:!0}),$("select.select-menu.month").selectpicker("destroy").selectpicker({liveSearch:!0}),$("#add-pet-modal").addClass("edit-pet-form"),$("#pet-name").val($("#petName_"+editEntryNumber).val()),$("#pet-orderEntryNumber").val(editEntryNumber);var a=$("#petSpecies_"+editEntryNumber).val();$("#pet-Species-menu option").each(function(){if($(this).val()==a)return $("#pet-Species-menu").val(a).change(),!1}),$("select#pet-Species-menu").selectpicker("destroy").selectpicker({liveSearch:!0}),"horse"==a&&putPatintTitle(),$("#pet-weight").val($("#petweight_"+editEntryNumber).val()),$("#veterinarian-menu").val($("#petveterinarian_"+editEntryNumber).val()).change(),"false"==$("#petVeterinarianActive_"+editEntryNumber).val()?($(".pet-veterinarian").addClass("has-error"),$("#vet-error-msg1").show()):($("#vet-error-msg1").hide(),$("#vet-error-msg2").hide()),$("#veterinarian-menu").on("change",function(e){null!==$("option:selected").val()&&$("#vet-error-msg2").hide()}),$("#"+$("#petGender_"+editEntryNumber).val()).prop("checked",!0),0<$("input#UNDEFINED:checked").length?$(".form-group.pet-gender").addClass("undefined-gender"):$(".form-group.pet-gender").removeClass("undefined-gender"),$("#pet-brithdate").val($("#petDOB_"+editEntryNumber).val());var i=$("#petDOB_"+editEntryNumber).val().toString();i=i.replace(" IST","").replace("00:00:00","06:00:00");var r=moment(i).format("DD-MM-YYYY");$("#pet-brithdate").combodate("setValue",r),$(".pet-brith-date select").selectpicker("refresh"),void 0!==$("#petmedication_"+editEntryNumber).val()&&""!==$("#petmedication_"+editEntryNumber).val()&&($("#medicationArea").val($("#petmedication_"+editEntryNumber).val()),$("#medication-checkbox").click()),void 0!==$("#petAllergy_"+editEntryNumber).val()&&""!==$("#petAllergy_"+editEntryNumber).val()&&($("#allergyArea").val($("#petAllergy_"+editEntryNumber).val()),$("#allergy-checkbox").click()),$("#guid").val($("#petguid_"+editEntryNumber).val()),$("#orderEntryElement").val(editEntryNumber)}}),$("#selectOrderDetailsForm,#addressForm,#selectDeliveryMethodForm").submit(function(e){$("#inactive-veter").is(":visible")&&(e.preventDefault(),$("html, body").animate({scrollTop:$("#inactive-veter").offset().top},300))})),$(".custom-datepicker .icon-pencil").on("click",function(){$(this).parent().find(".form-control").trigger("focus")}),$(".custom-datepicker .datepicker-input").length){var i=new Date;$(".custom-datepicker .datepicker-input").datepicker({dateFormat:"dd-mm-yy",showButtonPanel:!0,closeText:"<span class='icon icon-remove-gray'></span>",dayNamesMin:["S","M","T","W","T","F","S"],minDate:i,showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:$.datepicker.noWeekends}),$(".datepicker-input.today-date").length&&$(".custom-datepicker .datepicker-input.today-date").datepicker("setDate",i)}$("#loginForm").submit(function(){$("#backendErrorMessage").hide(),$("#errormessages").hide()}),$("#add-pet-form").bootstrapValidator({live:"disabled",fields:{petName:{selector:".pet-name input[type=text]",validators:{notEmpty:{message:"This is a required field"},regexp:{regexp:/^((?!\sand\s|&|,|\\|\/).)*$/i,message:"Please enter only one name"}}},petSpecies:{selector:".pet-species select",validators:{notEmpty:{message:"This is a required field"}}},petWieght:{selector:".pet-weight input[type=text]",validators:{notEmpty:{message:"This is a required field"},greaterThan:{inclusive:0,value:0,message:"Please enter a valid weight"}}},petGender:{selector:".pet-gender .pet-gender-opt",validators:{callback:{message:"Gender must be specified",callback:function(e,t,a){return 0===$("#UNDEFINED:checked").length}}}},petDateOfBrith:{selector:".pet-brith-date select",validators:{notEmpty:{message:"This is a required field"}}},petVeterinarian:{selector:".pet-veterinarian select",validators:{notEmpty:{message:"This is a required field"}}}}}).on("success.form.bv",function(e){"undefined"==typeof gtmNewPetEvent||gtmNewPetEvent($(e.target)),$("#savePet").attr("disabled","disabled")}),$("#selectOrderDetailsForm").bootstrapValidator({live:"disabled",fields:{selectPet:{selector:"select.existing-pets",validators:{notEmpty:{}}},autoShipFreq:{selector:"select.autoship-ferq",validators:{callback:{message:"Please assign AutoShip frequency",callback:function(e,t,a){return!a.parents(".add-pet-warp").find(".autoship-options .autoship-radio").prop("checked")||!a.parents(".add-pet-warp").find(".autoship-ferq .bs-title-option").prop("selected")}}}},addPet:{selector:".add-pet-btn",validators:{callback:{message:"This is a required field",callback:function(e,t,a){return!a.is(":visible")}}}},driverLicenseNum:{selector:"#driver-license-num",validators:{notEmpty:{}}}}}).on("error.field.bv",function(e,t){$(".form-group.has-error .existing-pets, .form-group.has-error .add-pet-btn").length?$("#add-pet-upper-error").removeClass("hide"):$("#add-pet-upper-error").addClass("hide"),t.bv.getSubmitButton()&&t.bv.disableSubmitButtons(!1)}),$("#loginForm").bootstrapValidator({live:"disabled",err:{container:"#messages"},fields:{j_username:{selector:"#j_username",validators:{notEmpty:{message:" "},emailAddress:{message:" "}}},j_password:{selector:"#j_password",validators:{notEmpty:{message:" "}}}}}).on("error.field.bv",function(e,t){t.bv.getSubmitButton()&&t.bv.disableSubmitButtons(!1)}).on("success.field.bv",function(e,t){t.bv.getSubmitButton()&&t.bv.disableSubmitButtons(!1)}).on("error.form.bv",function(e,t){if($("#errormessages").show(),!("undefined"==typeof gtmGlobalEvent)){var a=$("#errormessages").text().trim();gtmGlobalEvent("sign in","sign in - error",a,"gtm_event")}}).on("success.form.bv",function(e,t){$("#errormessages").hide()}),0<$("#updatePwdForm").length&&$("#updatePwdForm").bootstrapValidator({live:"disabled",fields:{pwd:{validators:{notEmpty:{message:update_pwdFormErrorMSGs.pwd},regexp:{regexp:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/,message:update_pwdFormErrorMSGs.pwdreqirement}}},checkPwd:{validators:{notEmpty:{message:update_pwdFormErrorMSGs.checkPwd},identical:{field:"pwd",message:update_pwdFormErrorMSGs.pwdMatch}}}}}).on("error.field.bv",function(e,t){t.bv.getSubmitButton()&&t.bv.disableSubmitButtons(!1)}),0<$("#vfcRegisterForm").length&&$("#vfcRegisterForm").bootstrapValidator({live:"disabled",fields:{firstName:{validators:{notEmpty:{message:login_registerFormErrorMSGs.firstName}}},lastName:{validators:{notEmpty:{message:login_registerFormErrorMSGs.lastName}}},email:{validators:{notEmpty:{message:login_registerFormErrorMSGs.email},emailAddress:{message:login_registerFormErrorMSGs.email}}},mobileNumber:{validators:{notEmpty:{message:login_registerFormErrorMSGs.phone},regexp:{regexp:/^(\+0?1\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/,message:login_registerFormErrorMSGs.invalidPhoneNumber}}},vet:{validators:{notEmpty:{message:login_registerFormErrorMSGs.vet}}},pwd:{validators:{notEmpty:{message:login_registerFormErrorMSGs.pwd},regexp:{regexp:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/,message:login_registerFormErrorMSGs.pwdreqirement}}},checkPwd:{validators:{notEmpty:{message:login_registerFormErrorMSGs.checkPwd},identical:{field:"pwd",message:login_registerFormErrorMSGs.pwdMatch}}}}}).on("error.field.bv",function(e,t){t.bv.getSubmitButton()&&t.bv.disableSubmitButtons(!1)}).on("error.form.bv",function(e,t){if(!("undefined"==typeof gtmGlobalEvent)){var a="",i="";$('[data-bv-result="INVALID"]').each(function(e,t){a=a+i+$(this).text(),i=" "}),gtmGlobalEvent("sign in","create account - error",a,"gtm_event")}}),$("#view_all_order_btn").click(function(){$("#all_orders").is(":hidden")?($("#all_orders").show(),$("#view_all_order_btn").html("VIEW FEWER ORDERS")):($("#all_orders").hide(),$("#view_all_order_btn").html("VIEW ALL ORDERS"))}),$("#contactusSubmit").on("click",function(){0<$("#contactUsForm").length&&$("#contactUsForm").bootstrapValidator({live:"disabled",fields:{name:{validators:{notEmpty:{message:contactUsForm.required}}},reason:{validators:{notEmpty:{message:contactUsForm.required}}},email:{validators:{notEmpty:{message:contactUsForm.required},emailAddress:{message:contactUsForm.email}}},choice:{validators:{notEmpty:{message:contactUsForm.required}}},message:{validators:{notEmpty:{message:contactUsForm.required}}}}}).on("error.field.bv",function(e,t){t.bv.getSubmitButton()&&t.bv.disableSubmitButtons(!1)})}),($(".template-pages-category-productGridPage").length||$(".page-searchGrid").length)&&$(".facet-mask").removeClass("facet-mask");var r=$(".powered-by-name"),o=r.text().split(/\s+/);if(r.empty(),$.each(o,function(e,t){$("<span/>").text(t).appendTo(r)}),$("#contactusSubmit").removeAttr("disabled"),5<$("#veterinarian-menu").children("option").length&&$("#veterinarian-menu").selectpicker("destroy").selectpicker({liveSearch:!0}),0<$(".select-pet-wrap").length&&$(".select-pet-wrap").each(function(){5<$(this).find(".select-menu").children("option").length&&$(this).find(".select-menu").selectpicker("destroy").selectpicker({liveSearch:!0})}),0<$(".page-multiStepCheckoutSummaryPage #petSelectionDiv select.select-menu").length&&3===$(".page-multiStepCheckoutSummaryPage #petSelectionDiv select.select-menu").children("option").length){var s=$("#petSelectionDiv select.select-menu>option").map(function(){return $(this).val()}).get();$(".page-multiStepCheckoutSummaryPage #petSelectionDiv select.select-menu").selectpicker("val",s[2]),$(".page-multiStepCheckoutSummaryPage #petSelectionDiv select.select-menu").trigger("change")}5<$("#product-flavor-menu").children("option").length&&$("#product-flavor-menu").selectpicker("destroy").selectpicker({liveSearch:!0}),5<$("#priority2").children("option").length&&$("#priority2").selectpicker("destroy").selectpicker({liveSearch:!0}),5<$("select[id='register.vet']").children("option").length&&$("select[id='register.vet']").selectpicker("destroy").selectpicker({liveSearch:!0}),0<$(".page-multiStepCheckoutSummaryPage").length&&($(".select-pet-wrap").each(function(){var e=$(this).find(".filter-option");0<e.text().indexOf(petErrorMessages.updateRequired)&&($(this).closest(".checkout-order-summary-list-items").addClass("needs-pet-update"),e.text(e.text().replace(petErrorMessages.updateRequired,"")))}),$(".select-menu.existing-pets").each(function(){var e=$(this).find(".filter-option");0<e.text().indexOf("Add Pet")||$(e).parent(".dropdown-toggle").addClass("hasselected")}),0<$(".inactive-veter").length&&$(".step-body").addClass("hide"),0<$(".page-multiStepCheckoutSummaryPage").length&&ACC.ajax.updateInactiveVet(),$("#add-pet-modal").on("hidden.bs.modal",function(){$("#add-pet-modal #guid").val("")}))}),function($){$.fn.bootstrapValidator.prototype.constructor.Constructor.prototype._onError=function(e){if(!e.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var s=this;for(var n in this.options.fields)!function(e){var t=s.getFieldElements(e);if(t.length){var a=$(t[0]).attr("type"),i="radio"===a||"checkbox"===a||"file"===a||"SELECT"===$(t[0]).get(0).tagName?"change":s._changeEvent,r=s.options.fields[n].trigger||s.options.trigger||i,o=$.map(r.split(" "),function(e){return e+".live.bv"}).join(" ");t.off(o).on(o,function(){s._exceedThreshold($(this))&&s.validateField($(this))})}}(n)}var t=this.$invalidFields.eq(0);if(t){var a,i=t.parents(".tab-pane");i&&(a=i.attr("id"))&&$('a[href="#'+a+'"][data-toggle="tab"]').tab("show"),t.is("select")?$("html, body").animate({scrollTop:t.offset().top-110},300):t.focus()}}}}(jQuery),$(document).on("loaded.bs.select",".addNewAddressContainer #addressForm .select-menu select[name='countryIso']",function(e){$(this).selectpicker("val","US")}),$("#account-addPaymentInfo").on("shown.bs.modal",function(e){$("#account-addPaymentInfo .modal-content select[name='billTo_country']").selectpicker("val","US")}),$("#account-addressAddEditAddress").on("shown.bs.modal",function(e){$("#account-addressAddEditAddress .modal-content select[name='countryIso']").selectpicker("val","US")}),$(".footer__nav--links .icon-email").click(function(e){e.stopPropagation()}),$(".footer__link .icon-chat").click(function(e){$(this).parent().find("#liveChat").click()}),enquire.register("screen and (max-width:882px)",function(){$(".js-nav-ipad.nav__links--primary.nav__links--primary-has__sub .js_nav__link").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).parent().find(".nav__link--drill__down").click()})});